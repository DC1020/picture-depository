<svg id="SvgjsSvg1006" width="910.0124816894531" height="680" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1122" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1123" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(25.012481689453125,140.2124900817871)"><path id="SvgjsPath1009" d="M 0 4Q 0 0 4 0L 359.8000030517578 0Q 363.8000030517578 0 363.8000030517578 4L 363.8000030517578 366Q 363.8000030517578 370 359.8000030517578 370L 4 370Q 0 370 0 366Z" stroke="rgba(0,0,0,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="354px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="17.478571428571428" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="16" x="182"><tspan id="SvgjsTspan1013" style="text-decoration:;fill: rgb(255, 0, 0);font-weight: bold;">synchronized</tspan></tspan></text></g></g><g id="SvgjsG1014" transform="translate(454.0124816894531,25.012481689453125)"><path id="SvgjsPath1015" d="M 0 4Q 0 0 4 0L 426.8000030517578 0Q 430.8000030517578 0 430.8000030517578 4L 430.8000030517578 626.0000152587891Q 430.8000030517578 630.0000152587891 426.8000030517578 630.0000152587891L 4 630.0000152587891Q 0 630.0000152587891 0 626.0000152587891Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1016"><text id="SvgjsText1017" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="421px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="36.0500010899135" transform="rotate(0)"><tspan id="SvgjsTspan1018" dy="16" x="215.5"><tspan id="SvgjsTspan1019" style="text-decoration:;fill: rgb(255, 0, 0);font-weight: bold;">Lock</tspan></tspan></text></g></g><g id="SvgjsG1020" transform="translate(482.91248321533203,89.71249008178711)"><path id="SvgjsPath1021" d="M 0 4Q 0 0 4 0L 369 0Q 373 0 373 4L 373 202.5Q 373 206.5 369 206.5L 4 206.5Q 0 206.5 0 202.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1022"><text id="SvgjsText1023" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="363px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.8" transform="rotate(0)"><tspan id="SvgjsTspan1024" dy="16" x="186.5"><tspan id="SvgjsTspan1025" style="text-decoration:;">关系</tspan></tspan></text></g></g><g id="SvgjsG1026" transform="translate(484.41248321533203,346.2124900817871)"><path id="SvgjsPath1027" d="M 0 4Q 0 0 4 0L 366 0Q 370 0 370 4L 370 291.8000068664551Q 370 295.8000068664551 366 295.8000068664551L 4 295.8000068664551Q 0 295.8000068664551 0 291.8000068664551Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1028"><text id="SvgjsText1029" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="360px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.178571919032507" transform="rotate(0)"><tspan id="SvgjsTspan1030" dy="16" x="185"><tspan id="SvgjsTspan1031" style="text-decoration:;">用法</tspan></tspan></text></g></g><g id="SvgjsG1032" transform="translate(47.61247253417969,216.2124900817871)"><path id="SvgjsPath1033" d="M 0 0L 77.20001220703125 0L 93.20001220703125 16L 93.20001220703125 42L 0 42L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1034" d="M 77.20001220703125 0L 77.20001220703125 16L 93.20001220703125 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1035" d="M 0 0L 77.20001220703125 0L 93.20001220703125 16L 93.20001220703125 42L 0 42L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1036"><text id="SvgjsText1037" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="74px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="11.05" transform="rotate(0)"><tspan id="SvgjsTspan1038" dy="16" x="47"><tspan id="SvgjsTspan1039" style="text-decoration:;">同步代码块</tspan></tspan></text></g></g><g id="SvgjsG1040" transform="translate(47.61247253417969,323.2124900817871)"><path id="SvgjsPath1041" d="M 0 0L 77.20001220703125 0L 93.20001220703125 16L 93.20001220703125 42L 0 42L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1042" d="M 77.20001220703125 0L 77.20001220703125 16L 93.20001220703125 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1043" d="M 0 0L 77.20001220703125 0L 93.20001220703125 16L 93.20001220703125 42L 0 42L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1044"><text id="SvgjsText1045" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="74px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="11.05" transform="rotate(0)"><tspan id="SvgjsTspan1046" dy="16" x="47"><tspan id="SvgjsTspan1047" style="text-decoration:;">实例方法上</tspan></tspan></text></g></g><g id="SvgjsG1048" transform="translate(47.61247253417969,438.2124900817871)"><path id="SvgjsPath1049" d="M 0 0L 77.20001220703125 0L 93.20001220703125 16L 93.20001220703125 42L 0 42L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1050" d="M 77.20001220703125 0L 77.20001220703125 16L 93.20001220703125 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1051" d="M 0 0L 77.20001220703125 0L 93.20001220703125 16L 93.20001220703125 42L 0 42L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1052"><text id="SvgjsText1053" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="74px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="3.05" transform="rotate(0)"><tspan id="SvgjsTspan1054" dy="16" x="47"><tspan id="SvgjsTspan1055" style="text-decoration:;">静态方法上</tspan></tspan><tspan id="SvgjsTspan1056" dy="16" x="47"><tspan id="SvgjsTspan1057" style="text-decoration:;">（类锁）</tspan></tspan></text></g></g><g id="SvgjsG1058" transform="translate(157.81248474121094,227.2124900817871)"><path id="SvgjsPath1059" d="M 0 6.6000000000000005L 11 6.6000000000000005L 11 0L 20 10L 11 20L 11 13.4L 0 13.4L 0 6.6000000000000005Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1060"><text id="SvgjsText1061" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="20px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="0.05000000000000093" transform="rotate(0)"></text></g></g><g id="SvgjsG1062" transform="translate(189.81248474121094,210.7124900817871)"><path id="SvgjsPath1063" d="M 0 0L 171 0L 187 16L 187 47.5L 0 47.5L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1064" d="M 171 0L 171 16L 187 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1065" d="M 0 0L 171 0L 187 16L 187 47.5L 0 47.5L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1066"><text id="SvgjsText1067" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="167px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="13.8" transform="rotate(0)"><tspan id="SvgjsTspan1068" dy="16" x="93.5"><tspan id="SvgjsTspan1069" style="text-decoration:;">synchronized (this) { }</tspan></tspan></text></g></g><g id="SvgjsG1070" transform="translate(188.81248474121094,318.9624900817871)"><path id="SvgjsPath1071" d="M 0 0L 173 0L 189 16L 189 50.5L 0 50.5L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1072" d="M 173 0L 173 16L 189 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1073" d="M 0 0L 173 0L 189 16L 189 50.5L 0 50.5L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1074"><text id="SvgjsText1075" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="169px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.3" transform="rotate(0)"><tspan id="SvgjsTspan1076" dy="16" x="94.5"><tspan id="SvgjsTspan1077" style="text-decoration:;">public synchronized void </tspan></tspan><tspan id="SvgjsTspan1078" dy="16" x="94.5"><tspan id="SvgjsTspan1079" style="text-decoration:;">withdraw(double money){ }</tspan></tspan></text></g></g><g id="SvgjsG1080" transform="translate(157.81248474121094,334.2124900817871)"><path id="SvgjsPath1081" d="M 0 6.6000000000000005L 11 6.6000000000000005L 11 0L 20 10L 11 20L 11 13.4L 0 13.4L 0 6.6000000000000005Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1082"><text id="SvgjsText1083" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="20px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="0.05000000000000093" transform="rotate(0)"></text></g></g><g id="SvgjsG1084" transform="translate(157.81248474121094,449.2124900817871)"><path id="SvgjsPath1085" d="M 0 6.6000000000000005L 11 6.6000000000000005L 11 0L 20 10L 11 20L 11 13.4L 0 13.4L 0 6.6000000000000005Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1086"><text id="SvgjsText1087" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="20px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="0.05000000000000093" transform="rotate(0)"></text></g></g><g id="SvgjsG1088" transform="translate(189.81248474121094,434.2124900817871)"><path id="SvgjsPath1089" d="M 0 0L 171 0L 187 16L 187 50L 0 50L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1090" d="M 171 0L 171 16L 187 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1091" d="M 0 0L 171 0L 187 16L 187 50L 0 50L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1092"><text id="SvgjsText1093" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="167px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.05" transform="rotate(0)"><tspan id="SvgjsTspan1094" dy="16" x="93.5"><tspan id="SvgjsTspan1095" style="text-decoration:;">public synchronized static </tspan></tspan><tspan id="SvgjsTspan1096" dy="16" x="93.5"><tspan id="SvgjsTspan1097" style="text-decoration:;">void doOther(){ }</tspan></tspan></text></g></g><g id="SvgjsG1098" transform="translate(689.8124847412109,29.21249008178711)"><path id="SvgjsPath1099" d="M 0 21C 0 -7 104 -7 104 21Q 101.92 41.16 52 42Q 34.666666666666664 42 17.333333333333332 37.800000000000004L 0 42L 12.168000000000001 35.994Q 0 29.4 0 21" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1100"><text id="SvgjsText1101" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="84px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="11.05" transform="rotate(0)"><tspan id="SvgjsTspan1102" dy="16" x="52"><tspan id="SvgjsTspan1103" style="text-decoration:;">这是一个</tspan><tspan id="SvgjsTspan1104" style="text-decoration:;fill: rgb(255, 0, 0);font-weight: bold;">接口</tspan></tspan></text></g></g><g id="SvgjsG1105" transform="translate(532.7124824523926,228.15025611059355)"><path id="SvgjsPath1106" d="M 0 4Q 0 0 4 0L 279.4000015258789 0Q 283.4000015258789 0 283.4000015258789 4L 283.4000015258789 40.06223397119354Q 283.4000015258789 44.06223397119354 279.4000015258789 44.06223397119354L 4 44.06223397119354Q 0 44.06223397119354 0 40.06223397119354Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffcccc"></path><g id="SvgjsG1107"><text id="SvgjsText1108" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="264px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.081116985596771" transform="rotate(0)"><tspan id="SvgjsTspan1109" dy="16" x="142"><tspan id="SvgjsTspan1110" style="text-decoration:;">常用实现类 </tspan></tspan><tspan id="SvgjsTspan1111" dy="16" x="142"><tspan id="SvgjsTspan1112" style="text-decoration:;font-weight: bold;">java.util.concurrent.locks.ReentrantLock</tspan></tspan></text></g></g><g id="SvgjsG1113" transform="translate(532.7124824523926,126.21249008178711)"><path id="SvgjsPath1114" d="M 0 4Q 0 0 4 0L 279.4000015258789 0Q 283.4000015258789 0 283.4000015258789 4L 283.4000015258789 26.729061756463363Q 283.4000015258789 30.729061756463363 279.4000015258789 30.729061756463363L 4 30.729061756463363Q 0 30.729061756463363 0 26.729061756463363Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffcccc"></path><g id="SvgjsG1115"><text id="SvgjsText1116" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="264px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.414530878231681" transform="rotate(0)"><tspan id="SvgjsTspan1117" dy="16" x="142"><tspan id="SvgjsTspan1118" style="text-decoration:;">位于 </tspan><tspan id="SvgjsTspan1119" style="text-decoration:;font-weight: bold;">java.util.concurrent.locks</tspan></tspan></text></g></g><g id="SvgjsG1120"><path id="SvgjsPath1121" d="M674.412483215332 228.15025611059355L674.412483215332 192.545903974422L674.412483215332 192.545903974422L674.412483215332 156.94155183825046" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1122)"></path><rect id="SvgjsRect1124" width="26" height="16" x="661.412483215332" y="184.545903974422" fill="#ffffff"></rect><text id="SvgjsText1125" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="26px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="182.59590397442201" transform="rotate(0)"><tspan id="SvgjsTspan1126" dy="16" x="674.412483215332"><tspan id="SvgjsTspan1127" style="text-decoration:;">实现</tspan></tspan></text></g><g id="SvgjsG1128" transform="translate(659.412483215332,311.2124900817871)"><path id="SvgjsPath1129" d="M 6.6000000000000005 0L 13.4 0L 13.4 11L 20 11L 10 20L 0 11L 6.6000000000000005 11L 6.6000000000000005 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff0080"></path><g id="SvgjsG1130"><text id="SvgjsText1131" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="28px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-0.9499999999999991" transform="rotate(0)"></text></g></g><g id="SvgjsG1132" transform="translate(496.6124839782715,388.6124954223633)"><path id="SvgjsPath1133" d="M 0 4Q 0 0 4 0L 341.5999984741211 0Q 345.5999984741211 0 345.5999984741211 4L 345.5999984741211 27Q 345.5999984741211 31 341.5999984741211 31L 4 31Q 0 31 0 27Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffe6cc"></path><g id="SvgjsG1134"><text id="SvgjsText1135" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="326px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.55" transform="rotate(0)"><tspan id="SvgjsTspan1136" dy="16" x="173"><tspan id="SvgjsTspan1137" style="text-decoration:;">第一步：</tspan><tspan id="SvgjsTspan1138" style="text-decoration:;font-weight: bold;">private Lock lock = new ReentrantLock();</tspan></tspan></text></g></g><g id="SvgjsG1139" transform="translate(496.6124839782715,431.6125030517578)"><path id="SvgjsPath1140" d="M 0.5 0.5L 345.5 0.5L 345.5 201.5L 0.5 201.5Z" stroke="rgba(138,138,138,1)" stroke-width="1" fill-opacity="1" fill="#ffe6cc"></path><g id="SvgjsG1141"><text id="SvgjsText1142" font-family="微软雅黑" text-anchor="start" font-size="14px" width="326px" fill="#323232" font-weight="700" align="top" anchor="start" family="微软雅黑" size="14px" weight="700" font-style="" opacity="1" y="2.9" transform="rotate(0)"><tspan id="SvgjsTspan1143" dy="17" x="10"><tspan id="SvgjsTspan1144" style="text-decoration:;font-weight: normal;">第二步：</tspan></tspan><tspan id="SvgjsTspan1145" dy="17" x="10"><tspan id="SvgjsTspan1146" style="text-decoration:;">public void sale() {</tspan></tspan><tspan id="SvgjsTspan1147" dy="17" x="10"><tspan id="SvgjsTspan1148" style="text-decoration:;">        lock.lock();</tspan></tspan><tspan id="SvgjsTspan1149" dy="17" x="10"><tspan id="SvgjsTspan1150" style="text-decoration:;">        try {</tspan></tspan><tspan id="SvgjsTspan1151" dy="17" x="10"><tspan id="SvgjsTspan1152" style="text-decoration:;">          </tspan></tspan><tspan id="SvgjsTspan1153" dy="17" x="10"><tspan id="SvgjsTspan1154" style="text-decoration:;">        } catch (Exception e) {</tspan></tspan><tspan id="SvgjsTspan1155" dy="17" x="10"><tspan id="SvgjsTspan1156" style="text-decoration:;">            e.printStackTrace();</tspan></tspan><tspan id="SvgjsTspan1157" dy="17" x="10"><tspan id="SvgjsTspan1158" style="text-decoration:;">        } finally {</tspan></tspan><tspan id="SvgjsTspan1159" dy="17" x="10"><tspan id="SvgjsTspan1160" style="text-decoration:;">            lock.unlock();</tspan></tspan><tspan id="SvgjsTspan1161" dy="17" x="10"><tspan id="SvgjsTspan1162" style="text-decoration:;">        }</tspan></tspan><tspan id="SvgjsTspan1163" dy="17" x="10"><tspan id="SvgjsTspan1164" style="text-decoration:;">    }</tspan></tspan></text></g></g></svg>